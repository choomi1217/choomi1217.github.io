---
title:  "[Toy Project - Real-World] Real-World êµ¬í˜„í•˜ê¸°"

categories:
  - real-world
tags:
  - [real-world]

toc: true
toc_sticky: true

breadcrumbs: true

date: 2023-08-25
last_modified_at: 2023-08-25
---

# Real-World

https://github.com/choomi1217/real-world.git

## Real-World êµ¬í˜„í•˜ê¸°

### **ðŸ”§ì‚¬ìš©í•œ ê¸°ìˆ  ë²„ì „**

- ìžë°” 17
- ìŠ¤í”„ë§ 3.1.1
  - ìŠ¤í”„ë§ ì‹œíë¦¬í‹°
- h2

---

### **ðŸ”§**Â ëŠë‚€ì 

`4-Tier Layered Architecture`ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

ì´ë²ˆ í”„ë¡œì íŠ¸ë¡œ JPAë¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œê°€ ìžˆì—ˆìŠµë‹ˆë‹¤.

- ìˆœí™˜ì°¸ì¡°

ì•„ëž˜ì™€ ê°™ì´ ìˆœí™˜ì°¸ì¡°ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í´ëž˜ìŠ¤ê°€ í•˜ë‚˜ ìƒê²¼ìŠµë‹ˆë‹¤.

```java
@Service
@RequiredArgsConstructor
public class AccountUsercase {

    private final AccountService accountService;
    private final JwtService jwtService;
    private final MemberService memberService;
    private final PasswordEncoder passwordEncoder;

	// ... ... ...

}
```

- Entityê°€ ê·¸ëŒ€ë¡œ Serviceì— ë…¸ì¶œ

Ropositoryì—ì„œ êº¼ë‚´ì˜¨ Entityê°€ ë°”ë¡œ Service Layerì—ì„œ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.

Service Layerì—ì„œ Entityë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì²˜ë¦¬ ë¡œì§ì„ ìœ„í•´ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì´ ê³„ì† ë˜ì—ˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ëŸ° ê¸°ëŠ¥ì´ Service Layerì— ìžˆì–´ë„ ë˜ë‚˜ ì‹¶ì—ˆìŠµë‹ˆë‹¤.

```java
@Service
@RequiredArgsConstructor
public class MemberFollowService {

    private final FollowService followService;
    private final MemberService memberService;

    public ProfileResponse follow(String followerEmail, String followedName) {
        Member follower = memberService.findByEmail(followerEmail).orElseThrow(() -> new UsernameNotFoundException("User Not Found"));
        Member followed = memberService.findByUsername(followedName).orElseThrow(() -> new UsernameNotFoundException("User Not Found"));
        followService.follow(follower.getUsername(), followed.getUsername());
        return new ProfileResponse(followed, true);
    }

    @Transactional
    public ProfileResponse unfollow(String followerEmail, String followedName) throws NotFollowingException {
        Member follower = memberService.findByEmail(followerEmail).orElseThrow(() -> new UsernameNotFoundException("User Not Found"));
        Member followed = memberService.findByUsername(followedName).orElseThrow(() -> new UsernameNotFoundException("User Not Found"));

        if( !isItFollow(follower, followed) ){
            throw new NotFollowingException( String.format("%s is not following %s.", follower.getUsername(), followed.getUsername()));
        }

        followService.unfollow(follower.getUsername(), followed.getUsername());
        return new ProfileResponse(followed, false);
    }

    private boolean isItFollow(Member follower, Member followed) {
        return followService.exists(follower.getUsername(), followed.getUsername());
    }
}
```

---

### **ðŸ”§Â ì°¸ê³ **

4-Tier Layered Architecture ì°¸ê³ 
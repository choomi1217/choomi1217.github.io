---
title:  "[Modern Java In Action] ch2 - ë™ì  íŒŒë¼ë¯¸í„°í™” ì½”ë“œ ì „ë‹¬í•˜ê¸°

categories:
  - modern-java-in-action
tags:
  - [modern-java-in-action]

toc: true
toc_sticky: true

breadcrumbs: true

date: 2024-04-16
last_modified_at: 2024-04-16
---

ìš°ë¦¬ëŠ” ì–´ë–¤ ìƒí™©ì—ì„œ ì¼ì„ í•˜ë“  ì†Œë¹„ì ìš”êµ¬ì‚¬í•­ì€ í•­ìƒ ë°”ë€ë‹¤.
ë³€í™”ëŠ” ë¶ˆê°€í”¼í•˜ë‹¤.

**ë™ì‘ íŒŒë¼ë¯¸í„°í™”**ëŠ” ìì£¼ ë°”ë€ŒëŠ” ìš”êµ¬ì‚¬í•­ì— íš¨ê³¼ì ìœ¼ë¡œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤.
ë™ì‘ íŒŒë¼ë¯¸í„°í™”ëŠ” ì•„ì§ì€ ì–´ë–»ê²Œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ê²°ì •í•˜ì§€ ì•Šì€ ì½”ë“œ ë¸”ë¡ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

### ë™ì‘ íŒŒë¼ë¯¸í„°í™” ì˜ˆì œ
```java
public class App {
    public static void main(String[] args) {
        Apple apple = new Apple(150L, Color.GREEN);
        Apple apple2 = new Apple(120L, Color.GREEN);
        Apple apple3 = new Apple(120L, Color.RED);

        List<Apple> inventory = List.of(apple, apple2, apple3);

        List<Apple> greenApples = filter(inventory, (apple1 -> apple1.color().equals(Color.GREEN)));
        greenApples.forEach(a -> System.out.println(prettyPrintApple(a, a2 -> "A " + (a2.weight() > 150 ? "heavy" : "light") + " " + a2.color() + " apple")));

    }

    public static <T> List<T> filter(List<T> list, Predicate<T> p) {
        return list.stream()
                .filter(p)
                .toList();
    }

}
```

ì½”ë“œ ì „ë‹¬ì˜ ê°œë…ì„ ë”ìš± í™•ì‹¤íˆ ìµí ìˆ˜ ìˆë„ë¡ ì•„ë˜ ì˜ˆì œë“¤ì´ ìˆìŠµë‹ˆë‹¤.

### Comparatorë¡œ ì •ë ¬í•˜ê¸°
```java
public class Comparator {
    public static void main(String[] args) {
        List<Apple> apples = List.of(new Apple(100L, Color.RED), new Apple(300L, Color.RED), new Apple(150L, Color.GREEN));
        List<Apple> inventory = new ArrayList<>(apples);
        inventory.sort((a1, a2) -> a1.weight().compareTo(a2.weight()));
        inventory.forEach(System.out::println);
    }
}
```

### Runnableë¡œ ì½”ë“œ ë¸”ë¡ ì‹¤í–‰í•˜ê¸°
ìë°” ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•˜ë©´ ë³‘ë ¬ë¡œ ì½”ë“œ ë¸”ë¡ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.
ì–´ë–¤ ì½”ë“œë¥¼ ì‹¤í–‰í•  ê²ƒì¸ì§€ ìŠ¤ë ˆë“œì—ê²Œ ì•Œë ¤ì¤„ ìˆ˜ ìˆì„ê¹Œ?

```java
public class RunnableExample {
  public static void main(String[] args) {
    Thread t = new Thread(new Runnable() {
      @Override
      public void run() {
        System.out.println("Hello from a thread!");
      }
    });
    t.run();
  }
}
```
```java
public class RunnableExample {
    public static void main(String[] args) {
        Thread t = new Thread(() -> System.out.println("Hello from a thread!"));
        t.run();
    }
}
```

### Callableì„ ê²°ê³¼ë¡œ ë°˜í™˜í•˜ê¸°
ExecutorServiceë¥¼ ì´ìš©í•˜ë©´ Callable ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•´ Taskë¥¼ ìŠ¤ë ˆë“œ í’€ë¡œ ë³´ë‚´ê³  ê²°ê³¼ë¥¼ Futureë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ ì ì´ Runnableê³¼ ê°€ì¥ í° ì°¨ì´ì ì…ë‹ˆë‹¤.
```java
public class CallableExample {
    public static void main(String[] args) {
        ExecutorService executorService = Executors.newCachedThreadPool();
        Future<String> future = executorService.submit(new Callable<String>() {
            @Override
            public String call() throws Exception {
                return "Hello from Callable!";
            }
        });

        try {
            String result = future.get();
            System.out.println(result);
            executorService.shutdown();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

```java
public class CallableExample {
    public static void main(String[] args) {
        ExecutorService executorService = Executors.newCachedThreadPool();
        Future<String> future = executorService.submit(() -> "Hello from Callable!");

        try {
            String result = future.get();
            System.out.println(result);
            executorService.shutdown();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

# ì •ë¦¬ ğŸ“š

ë™ì‘íŒŒë¼ë¯¸í„°í™”ë€ ë©”ì„œë“œ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ë©”ì„œë“œ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.
ì½”ë“œì „ë‹¬ê¸°ë²•ì„ ì´ìš©í•˜ë©´ ë™ì‘ì„ ë©”ì„œë“œì˜ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.